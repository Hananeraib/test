Django and ReactJS test

================================================

image: python:3.8

variables:
  POSTGRES_DB: mydb
  POSTGRES_USER: myuser
  POSTGRES_PASSWORD: mypassword
  DJANGO_SETTINGS_MODULE: myproject.settings
  NODE_ENV: test

services:
  - postgres:latest

stages:
  - test

cache:
  paths:
    - node_modules/
    - .pip_cache/

before_script:
  - apt-get update && apt-get install -y nodejs npm
  - npm install -g yarn
  - yarn install
  - pip install -U pip
  - pip install -r requirements.txt

test:
  stage: test
  script:
    - python manage.py test
    - yarn test
============================================
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
============================================
cache: caches the node_modules and .pip_cache directories to speed up future pipeline runs.
============================================
!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
============================================